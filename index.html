<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='mailto:support@bindle.io'>Mail us for an API key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the Bindle API.</p>

<p>We have language bindings only for terminal shell at the moment.</p>

<h1 id="authentication">Authentication</h1>
<pre class="highlight shell"><code>curl <span class="s2">"https://app.bindle.io/api/v1/ping"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: your_api_key_goes_here"</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pong"</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://app.bindle.io/api/v1/ping"</span> <span class="se">\</span>
-H <span class="s2">"Authorization: invalid_api_key"</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unauthorized. Invalid or expired token."</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Bindle uses API keys to allow access to some parts of the API. </p>

<p>You can request an API key by <a href="mailto:admin@bindle.io?Subject=Please%20Send%20Me%20An%20API%20Key&quot;">mailing us</a>.</p>

<p>Where required, Bindle expects the API key to be included in requests to the server in a header that looks like the following:</p>

<p><code class="prettyprint">Authorization: your_api_key_goes_here</code></p>

<aside class="notice">
You must replace <code>your_api_key_goes_here</code> with your own API key.
</aside>

<h1 id="calculators">Calculators</h1>

<h2 id="annual-leave-balance">Annual Leave Balance</h2>
<pre class="highlight shell"><code>curl <span class="se">\</span>
  -X POST https://app.bindle.io/api/v1/calculator <span class="se">\</span>
  --header <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  --header <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  --data <span class="s1">'{ 
    "start_date": "2015-01-01", 
    "end_date": "2015-12-31", 
    "days_taken": "5.0", 
    "part_time": "true", 
    "part_time_hours": "19.0", 
    "accrual_rate": "20.0", 
    "shift_worker": "false"}'</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.0"</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>A global validation error (e.g. &lsquo;days_taken&rsquo; is missing):</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="se">\</span>
  -X POST http://app.bindle.io/api/v1/calculator <span class="se">\</span>
  --header <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  --header <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  --data <span class="s1">'{ 
    "start_date": "2015-01-01", 
    "end_date": "2015-12-31"}'</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"error"</span><span class="p">:</span><span class="s2">"days_taken is missing"</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>A field validation error (e.g. &#39;part_time_hours&rsquo; is too large):</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="se">\</span>
  -X POST http://app.bindle.io/api/v1/calculator <span class="se">\</span>
  --header <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  --header <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  --data <span class="s1">'{ 
    "start_date": "2015-01-01", 
    "end_date": "2015-12-31", 
    "days_taken": "5.0", 
    "part_time": "true", 
    "part_time_hours": "419.0"}'</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"part_time_hours"</span><span class="p">:[</span><span class="s2">"must be less than or equal to 38.0"</span><span class="p">]}</span><span class="w">
</span></code></pre>

<p>This endpoint calculates an annual leave balance under the Australian National Employment Standards (NES).</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://app.bindle.io/api/v1/calculator</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>start_date</td>
<td>true</td>
<td>none</td>
<td>The date to start calculating leave accrual from.</td>
</tr>
<tr>
<td>end_date</td>
<td>true</td>
<td>none</td>
<td>Calculate balance as at this date.</td>
</tr>
<tr>
<td>days_taken</td>
<td>true</td>
<td>none</td>
<td>The number of leave days already taken. Must be &gt; 0 and &lt; 100000.</td>
</tr>
<tr>
<td>part_time</td>
<td>false</td>
<td>false</td>
<td>Is this employee a part time employee? Can be true or false.</td>
</tr>
<tr>
<td>part_time_hours</td>
<td>false</td>
<td>38.0</td>
<td>The average number of hours worked per week. Must be &gt; 0 and &lt;= 38.0.</td>
</tr>
<tr>
<td>accrual_rate</td>
<td>false</td>
<td>20.0</td>
<td>Leave accrual rate in days per year. Must be &gt; 0.</td>
</tr>
<tr>
<td>shift_worker</td>
<td>false</td>
<td>false</td>
<td>Is this employee a shift worker? Can be true or false.</td>
</tr>
</tbody></table>

<aside class="notice">
This end point does not require authentication.
</aside>

          <h1 id="errors">Errors</h1>

<p>The Bindle API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request is incorrect in some way. Check the documentation again.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is incorrect</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The resource requested is hidden</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified resource could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a resource with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
